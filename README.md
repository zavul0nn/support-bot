# Support Bot

> FSM-состояние хранится в SQLite и сохраняется между перезапусками. Пустые записи FSM автоматически очищаются.
> SQLite-файл создаётся при старте, если его нет; каталог данных создаётся автоматически.
> Миграция из Redis выполняется один раз при старте, когда `REDIS_MIGRATE_ON_START=true`, задан `REDIS_HOST`, а SQLite ещё пустая.
> После миграции можно убрать Redis из docker-compose и удалить `REDIS_HOST`.

Support Bot — телеграм-бот для поддержки пользователей.

## Возможности
- inline-панель в теме: Ответить, Отложить, Сменить статус, Инфо, Быстрые ответы
- быстрые ответы для операторов (текст + медиа, включая альбомы)
- команда `/menu` открывает панель в любой момент
- команда `/del` удаляет связанное сообщение у пользователя
- Remnawave-инфо по кнопке/`/information`

## Remnawave (инфо пользователя)
Показываются: статус/логин, даты подписки, трафик за месяц и за всё время, нода, последний онлайн (MSK), вид подписки, устройства, числовой ID, подписная ссылка.
Нужно указать `REMNAWAVE_API_BASE` и `REMNAWAVE_API_TOKEN`.

## Быстрые ответы
Админ (DEV_ID) задаёт быстрые ответы в личке бота. Поддерживаются текст, фото/видео, документы, голосовые и альбомы. Отправка дублируется в тему.

## Команды в теме
`/resolve`, `/resolvequiet`, `/silent`, `/ban`, `/information`, `/menu`, `/del`

## SQLite
- путь по умолчанию: `./data/support-bot.sqlite3`
- каталог `./data` и файл базы создаются автоматически при старте

## Запуск
```bash
docker compose up -d --build
```

## Тесты
```bash
pytest
```


## Поддержать проект

Если хотите поддержать разработку и дальнейшее развитие, можно отправить донат на один из кошельков ниже:

| Валюта | Сеть | Адрес кошелька |
|--------|-------|----------------|
| **USDT** | **TRC20** | `TXta4rdPhWrMux5pz8dHW9YHJtZyzvuWTn` |
| **USDT** | **TON** | `UQBm7CuV93ZVRK7MiRHVFosSYOjnmonX_E-bEL8cpNe2_EA4` |

## Лицензия
Проект распространяется по лицензии MIT.
